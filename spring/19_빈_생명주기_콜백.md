# ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±

- ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€, ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ ë“± ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì ì— ì—°ê²°ì„ ë¯¸ë¦¬ í•´ë‘ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œì ì— ì—°ê²°ì„ ëª¨ë‘ ì¢…ë£Œí•˜ëŠ” ì‘ì—… ì§„í–‰ â¡ï¸ ê°ì²´ì˜ ì´ˆê¸°í™” & ì¢…ë£Œ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.
- ì´ˆê¸°í™” : ê°ì²´ì— í•„ìš”í•œ ì •ë³´ê°€ ë‹¤ ë“¤ì–´ìˆëŠ” ê²ƒ, ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ëª¨ë‘ ì™„ë£Œë˜ê³  ë‚œ ë‹¤ìŒì— í˜¸ì¶œí•´ì•¼ í•œë‹¤.
  - ìŠ¤í”„ë§ì€ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ì™„ë£Œë˜ë©´ ìŠ¤í”„ë§ ë¹ˆì—ê²Œ ì½œë°± ë©”ì„œë“œë¥¼ í†µí•´ ì´ˆê¸°í™” ì‹œì ì„ ì•Œë ¤ì£¼ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
  - ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ê¸° ì§ì „ì— ì†Œë©¸ ì½œë°±ì„ ì¤€ë‹¤.

### ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë²¤íŠ¸ ë¼ì´í”„ì‚¬ì´í´

- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„± â¡ï¸ ìŠ¤í”„ë§ ë¹ˆ ìƒì„± â¡ï¸ ì˜ì¡´ê´€ê³„ ì£¼ì… â¡ï¸ ì´ˆê¸°í™” ì½œë°± â¡ï¸ ì‚¬ìš© â¡ï¸ ì†Œë©¸ì „ ì½œë°± â¡ï¸ ìŠ¤í”„ë§ ì¢…ë£Œ

> ê°ì²´ì˜ ìƒì„±ê³¼ ì´ˆê¸°í™”ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. â¡ï¸ ë‹¨ì¼ ì±…ì„ ì›ì¹™

## ì´ˆê¸°í™”, ì†Œë©¸ ì¸í„°í˜ì´ìŠ¤

### InitializingBean

```java
@Override
public void afterPropertiesSet() throws Exception {
    // í”„ë¡œí¼í‹° ì„¸íŒ…ì´ ëë‚˜ë©´(ì˜ì¡´ê´€ê³„ ì£¼ì… ëë‚˜ë©´) í˜¸ì¶œí•´ ì£¼ê² ë‹¤.
    connect();
    call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
}
```

### DisposableBean

```java
@Override
public void destroy() throws Exception {
    disconnect();
}
```

### ì´ˆê¸°í™”, ì†Œë©¸ ì¸í„°í˜ì´ìŠ¤ ë‹¨ì 

- ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•œë‹¤.
- ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì ìš©í•  ìˆ˜ ì—†ë‹¤.

> ìŠ¤í”„ë§ ì´ˆì°½ê¸°ì— ë‚˜ì˜¨ ë°©ë²•ìœ¼ë¡œ ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

## ë¹ˆ ë“±ë¡ ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œ

- ë¹ˆ ë“±ë¡ì‹œì— `@Bean(initMethod = "init", destroyMethod = "close")` ì²˜ëŸ¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```java
@Configuration
static class LifeCycleConfig {

    @Bean(initMethod = "init", destroyMethod = "close")
    public NetworkClient networkClient() {
        NetworkClient networkClient = new NetworkClient();
        networkClient.setUrl("http://hello-spring.dev");
        return networkClient;
    }
}
```

- @Bean â¡ï¸ `destroyMethod`ì—ëŠ” íŠ¹ë³„í•œ ê¸°ëŠ¥ì´ ìˆë‹¤.
  - ê¸°ë³¸ê°’ì´ `(inferred)`(ì¶”ë¡ )
  - `close`, `shutdown`ì´ë¼ëŠ” ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œí•´ì¤€ë‹¤.
  - ì¢…ë£Œ ë©”ì„œë“œëŠ” ë”°ë¡œ ì ì–´ì£¼ì§€ ì•Šì•„ë„ ì˜ ë™ì‘í•œë‹¤.
  - ì¶”ë¡  ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ì‹«ìœ¼ë©´ `destroyMethod=""`

### íŠ¹ì§•

- ë©”ì„œë“œ ì´ë¦„ ììœ ë¡­ê²Œ ì„¤ì • ê°€ëŠ¥
- ìŠ¤í”„ë§ ë¹ˆì´ ìŠ¤í”„ë§ ì½”ë“œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ë„ ì´ˆê¸°í™”, ì¢…ë£Œ ë©”ì„œë“œë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤.

## `@PostConstruct`, `@PreDestroy` â­ï¸ ì‚¬ìš©

```java
@PostConstruct
public void init() {
    connect();
    call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
}

@PreDestroy
public void close() {
    disconnect();
}
```

### íŠ¹ì§•

- ìŠ¤í”„ë§ì—ì„œ ê°€ì¥ ê¶Œì¥í•˜ëŠ” ë°©ë²•
- `import jakarta.annotation.PostConstruct;` ìë°” ì§„ì˜ì—ì„œ ì œê³µí•˜ëŠ” ì• ë…¸í…Œì´ì…˜
  - ìŠ¤í”„ë§ì— ì¢…ì†ì ì¸ ê¸°ëŠ¥ì´ ì•„ë‹ˆë‹¤.
- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ ì–´ìš¸ë¦°ë‹¤.
- ğŸ˜­ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ì ìš©í•  ìˆ˜ ì—†ë‹¤. â¡ï¸ `@Bean`ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸°
