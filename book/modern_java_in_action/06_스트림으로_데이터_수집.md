# ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë°ì´í„° ìˆ˜ì§‘

<div align="center">

> ìŠ¤íŠ¸ë¦¼ì€ ë°ì´í„° ì§‘í•©ì„ ë©‹ì§€ê²Œ ì²˜ë¦¬í•˜ëŠ” ê²Œìœ¼ë¥¸ ë°˜ë³µì ğŸ˜

</div>

- `ì¤‘ê°„ ì—°ì‚°`
  - í•œ ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì—°ì‚°
  - ì—¬ëŸ¬ ì—°ì‚°ì„ ì—°ê²°
  - ìŠ¤íŠ¸ë¦¼ íŒŒì´í”„ë¼ì¸ êµ¬ì„±
  - ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ì†Œë¹„í•˜ì§€ ì•ŠëŠ”ë‹¤
- `ìµœì¢… ì—°ì‚°`
  - ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ì†Œë¹„í•´ì„œ ìµœì¢… ê²°ê³¼ë¥¼ ë„ì¶œ
  - ìŠ¤íŠ¸ë¦¼ íŒŒì´í”„ë¼ì¸ì„ ìµœì í™”í•˜ë©´ì„œ ê³„ì‚° ê³¼ì •ì„ ì§§ê²Œ ìƒëµ

# ì»¬ë ‰í„°â“

- Collector ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì€ ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ì–´ë–¤ ì‹ìœ¼ë¡œ ë„ì¶œí• ì§€ ì§€ì •í•œë‹¤

## ê³ ê¸‰ ë¦¬ë“€ì‹± ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ì»¬ë ‰í„°

-`collect`ì—ì„œëŠ” ë¦¬ë“€ì‹± ì—°ì‚°ì„ ì´ìš©í•´ì„œ ìŠ¤íŠ¸ë¦¼ì˜ ê° ìš”ì†Œë¥¼ ë°©ë¬¸í•˜ë©´ì„œ ì»¬ë ‰í„°ê°€ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤

- `ë¦¬ë“€ì‹± ì—°ì‚°` : ì»¬ë ‰ì…˜ì˜ ì›ì†Œë“¤ì„ ê²°í•©í•˜ì—¬ ë‹¨ì¼ ê²°ê³¼ê°’ì„ ì–»ëŠ” ì—°ì‚°

```java
List<Transaction> transactions = transactionStream.collect(Collectors.toList());
```

# ë¦¬ë“€ì‹±ê³¼ ìš”ì•½

- ìŠ¤íŠ¸ë¦¼ì˜ í•­ëª©ì„ ì»¬ë ‰ì…˜ìœ¼ë¡œ ì¬êµ¬ì„± = ìŠ¤íŠ¸ë¦¼ì˜ ëª¨ë“  í•­ëª©ì„ í•˜ë‚˜ë¡œ í•˜ ã…‚ì¹  ìˆ˜ ìˆë‹¤
- `counting()` : í•­ëª©ì˜ ê°œìˆ˜ ê³„ì‚°

```java
long howManyDishes = menu.stream().collect(Collectors.counting());
long howManyDishes = menu.stream().count();
```

## ìŠ¤íŠ¸ë¦¼ê°’ì—ì„œ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ ê²€ìƒ‰

- `Collectors.maxBy`, `Collectors.minBy`
  - ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ë¹„êµí•˜ëŠ” ë° ì‚¬ìš©í•  Comparatorë¥¼ ì¸ìˆ˜ë¡œ ë°›ìŒ

```java
Comparator<Dish> dishCaloriesComparator = Comparator.comparingInt(Dish::getCalories);
Optional<Dish> mostCalorieDish = menu.stream()
        .collect(Collectors.maxBy(dishCaloriesComparator));
```

## ìš”ì•½ ì—°ì‚°

- ìŠ¤íŠ¸ë¦¼ì— ìˆëŠ” ê°ì²´ì˜ ìˆ«ì í•„ë“œì˜ í•©ê³„ë‚˜ í‰ê·  ë“±ì„ ë°˜í™˜í•˜ëŠ” ì—°ì‚°
- `Collectors.summingInt`
  - ê°ì²´ë¥¼ intë¡œ ë§¤í•‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤

```java
int totalCalories = menu.stream()
        .collect(Collectors.summingInt(Dish::getCalories));
```

- `Collectors.summingLong`, `summingDouble`
- `Collectors.averagingInt`, `averagingLong`, `averagingDouble`
  - avaragingInt
    - ë§¤í•‘ëœ í”„ë¡œí¼í‹°ê°€ int í˜•ì‹ì¼ ë•Œ ì‚¬ìš©
    - ë°˜í™˜ ê°’ì€ double
    - ë‚´ë¶€ì ìœ¼ë¡œ int í˜•ì‹ì˜ í”„ë¡œí¼í‹°ë¥¼ doubleë¡œ ë³€í™˜í•˜ì—¬ ê³„ì‚°
  - averagingDouble
    - ë§¤í•‘ëœ í”„ë¡œí¼í‹°ê°€ ì´ë¯¸ double í˜•ì‹ì´ê±°ë‚˜ int ë“± ë‹¤ì–‘í•œ í˜•ì‹ì¼ ë•Œ ì‚¬ìš©
    - ë°˜í™˜ ê°’ì€ double
    - ë‚´ë¶€ì ìœ¼ë¡œ double í˜•ì‹ì˜ í”„ë¡œí¼í‹°ë¥¼ ê·¸ë‹¤ë¡œ ì‚¬ìš©í•˜ì—¬ ê³„ì‚°

```java
double avgCalories = menu.stream()
        .collect(Collectors.averagingInt(Dish::getCalories));
```

- `summarizingInt`, `summarizingLong`, `summarizingDouble`
  - ë‘ ê°œ ì´ìƒì˜ ì—°ì‚°ì„ í•œ ë²ˆì— ìˆ˜í–‰

```java
IntSummaryStatistics menuStatistics = menu.stream()
        .collect(Collectors.summarizingInt(Dish::getCalories));
// IntSummaryStatistics{count=9, sum=4200, min=120, average=466.666667, max=800}
```

## ë¬¸ìì—´ ì—°ê²°

- `joining`
  - ìŠ¤íŠ¸ë¦¼ì˜ ê° ê°ì²´ì— ì¶”ì¶œí•œ ëª¨ë“  ë¬¸ìì—´ì„ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ì—°ê²°í•´ì„œ ë°˜í™˜
  - ë‚´ë¶€ì ìœ¼ë¡œ StringBuilderë¥¼ ì´ìš©í•´ì„œ ë¬¸ìì—´ì„ í•˜ë‚˜ë¡œ ë§Œë“¦

```java
String shortMenu = menu.stream()
        .map(Dish::getName)
        .collect(Collectors.joining(", "));
```

## ë²”ìš© ë¦¬ë“€ì‹± ìš”ì•½ ì—°ì‚°

- `Collectors.reducing`
  - ìœ„ì˜ ì¼ë“¤ì„ ë‹¤ í•  ìˆ˜ ìˆìŒ
  - íŠ¹í™”ëœ ì»¬ë ‰í„° ì‚¬ìš©í•œ ì´ìœ â“ í”„ë¡œê·¸ë˜ë°ì  í¸ì˜ì„±, ê°€ë…ì„±

```java
// ë²”ìš© ë¦¬ë“€ì‹± ìš”ì•½ ì—°ì‚°ì„ ì´ìš©í•˜ì—¬ ì´ ì¹¼ë¡œë¦¬ ê³„ì‚°
int totalCalories = menu.stream()
        .collect(Collectors.reducing(0, Dish::getCalories, (i, j) -> i + j));
```

<img src="img/5.png" />

### collect vs reduce

- `collect` : ë„ì¶œí•˜ë ¤ëŠ” ê²°ê³¼ë¥¼ ëˆ„ì í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë°”ê¾¸ë„ë¡ ì„¤ê³„
- `reduce` : ë‘ ê°’ì„ í•˜ë‚˜ë¡œ ë„ì¶œí•˜ëŠ” ë¶ˆë³€í˜• ì—°ì‚°
- ê°€ë³€ ì»¨í…Œì´ë„ˆ ê´€ë ¨ ì‘ì—…ì´ë©´ì„œ ë³‘ë ¬ì„±ì„ í™•ë³´í•˜ë ¤ë©´ collect ë©”ì„œë“œë¡œ ë¦¬ë“€ì‹± ì—°ì‚°ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë°”ëŒì§

### ìì‹ ì˜ ìƒí™©ì— ë§ëŠ” ìµœì ì˜ í•´ë²• ì„ íƒ

- ìŠ¤íŠ¸ë¦¼ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì§ì ‘ ì œê³µí•˜ëŠ” ë©”ì„œë“œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì— ë¹„í•´ ì»¬ë ‰í„°ë¥¼ ì´ìš©í•˜ëŠ” ì½”ë“œê°€ ë³µì¡í•˜ë‹¤
- ì½”ë“œê°€ ì¢€ ë” ë³µì¡í•œ ëŒ€ì‹  ì¬ì‚¬ìš©ì„±ê³¼ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ ê°€ëŠ¥ì„±ì„ ì œê³µí•˜ëŠ” ë†’ì€ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”ì™€ ì¼ë°˜í™”ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤

# ê·¸ë£¹í™”

- ë°ì´í„° ì§‘í•©ì„ í•˜ë‚˜ ì´ìƒì˜ íŠ¹ì„±ìœ¼ë¡œ ë¶„ë¥˜í•´ì„œ ê·¸ë£¹í™”
- `Collectors.groupingBy` : ì¸ìˆ˜ë¡œ **ë¶„ë¥˜ í•¨ìˆ˜**(ìŠ¤íŠ¸ë¦¼ì„ ê·¸ë£¹í™”í•˜ëŠ” ê¸°ì¤€)ë¥¼ ë°›ëŠ”ë‹¤

```java
Map<Type, List<Dish>> dishesByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType));
// {MEAT=[pork, beef, chicken], FISH=[prawns, salmon], OTHER=[french fries, rice, season fruit, pizza]}

// ëŒë‹¤ì‹ ì „ë‹¬ ê°€ëŠ¥
Map<CaloricLevel, List<Dish>> dishesByCaloricLevel = menu.stream()
        .collect(Collectors.groupingBy(dish -> {
            if (dish.getCalories() <= 400) return CaloricLevel.DIET;
            else if (dish.getCalories() <= 700) return CaloricLevel.NORMAL;
            else return CaloricLevel.FAT;
        }));
// {FAT=[pork], NORMAL=[beef, french fries, pizza, salmon], DIET=[chicken, rice, season fruit, prawns]}
```

## ê·¸ë£¹í™”ëœ ìš”ì†Œ ì¡°ì‘

- ê·¸ë£¹í™”í•œ ë‹¤ìŒ ê° ê·¸ë£¹ì˜ ìš”ì†Œë¥¼ ì¡°ì‘í•˜ëŠ” ì—°ì‚°

```java
Map<Type, List<Dish>> caloricDishesByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType,
                Collectors.filtering(dish -> dish.getCalories() > 500, // í•„í„°ë§
                Collectors.toList())));
```

- `mapping`

```java
Map<Type, List<String>> dishNamesByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType, Collectors.mapping(Dish::getName, Collectors.toList()))); // ê° Dishì— nameì„ ë§¤í•‘í•˜ê³  list ìƒì„±
// {MEAT=[pork, beef, chicken], FISH=[prawns, salmon], OTHER=[french fries, rice, season fruit, pizza]}
```

- `flatMapping`
  - ë‘ ìˆ˜ì¤€ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œ ìˆ˜ì¤€ìœ¼ë¡œ í‰ë©´í™”

```java
Map<String, List<String>> dishTags = new HashMap<>();
dishTags.put("pork", List.of("greasy", "salty"));
dishTags.put("beef", List.of("salty", "roasted"));
dishTags.put("chicken", List.of("fried", "crisp"));
dishTags.put("french fries", List.of("greasy", "fried"));
dishTags.put("rice", List.of("light", "natural"));
dishTags.put("season fruit", List.of("fresh", "natural"));
dishTags.put("pizza", List.of("tasty", "salty"));
dishTags.put("prawns", List.of("tasty", "roasted"));
dishTags.put("salmon", List.of("delicious", "fresh"));

Map<Type, Set<String>> dishNamesByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType,
                Collectors.flatMapping(dish -> dishTags.get(dish.getName()).stream(), Collectors.toSet())));
// {MEAT=[salty, greasy, roasted, fried, crisp], FISH=[roasted, tasty, fresh, delicious], OTHER=[salty, greasy, natural, light, tasty, fresh, fried]}
```

## ë‹¤ìˆ˜ì¤€ ê·¸ë£¹í™”

- `Collectors.groupingBy`
  - ë‚´ë¶€ groupingByë¥¼ ì „ë‹¬í•´ì„œ ë‘ ìˆ˜ì¤€ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ì˜ í•­ëª©ì„ ê·¸ë£¹í™”

```java
Map<Type, Map<CaloricLevel, List<Dish>>> dishesByTypeCaloricLevel = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType, // ì™¸ë¶€ Map
                Collectors.groupingBy(dish -> {
                    if (dish.getCalories() <= 400) {
                        return CaloricLevel.DIET;
                    } else if (dish.getCalories() <= 700) {
                        return CaloricLevel.NORMAL;
                    } else {
                        return CaloricLevel.FAT;
                    }
                })));
// {MEAT={FAT=[pork], NORMAL=[beef], DIET=[chicken]},
// FISH={NORMAL=[salmon], DIET=[prawns]},
// OTHER={NORMAL=[french fries, pizza], DIET=[rice, season fruit]}}
System.out.println(dishesByTypeCaloricLevel);
```

## ì„œë¸Œê·¸ë£¹ìœ¼ë¡œ ë°ì´í„° ìˆ˜ì§‘

```java
        Map<Type, Long> typesCount = menu.stream()
                .collect(Collectors.groupingBy(Dish::getType, Collectors.counting()));
                // ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ counting ì»¬ë ‰í„° ì „ë‹¬
        // {MEAT=3, FISH=2, OTHER=4}
```

- ë¶„ë¥˜ í•¨ìˆ˜ í•œê°œì˜ ì¸ìˆ˜ë¥¼ ê°–ëŠ” groupingBy(f)ëŠ” `groupingBy(f, toList())ì˜ ì¶•ì•½`
  - ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë°˜í™˜ë¨

```java
Map<Type, Optional<Dish>> mostCaloricByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType,
                Collectors.maxBy(Comparator.comparingInt(Dish::getCalories))));
// {MEAT=Optional[pork], FISH=Optional[salmon], OTHER=Optional[pizza]}
// menuì— ì—†ëŠ” typeì€ ì• ì´ˆì— ì¶”ê°€ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— Optional.empty()ë¥¼ ê°–ëŠ” typeì€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
```

### ì»¬ë ‰í„° ê²°ê³¼ë¥¼ ë‹¤ë¥¸ í˜•ì‹ì— ì ìš©í•˜ê¸°

```java
// Optional ë˜í¼ ì œê±°
Map<Type, Dish> mostCaloricByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType, // ë¶„ë¥˜ í•¨ìˆ˜
                Collectors.collectingAndThen(
                        Collectors.maxBy(Comparator.comparingInt(Dish::getCalories)),
                        Optional::get // ë³€í™˜ í•¨ìˆ˜
                )));
// {MEAT=pork, FISH=salmon, OTHER=pizza}
```

### groupingByì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ì»¬ë ‰í„°

- ê°™ì€ ê·¸ë£¹ìœ¼ë¡œ ë¶„ë¥˜ëœ ëª¨ë“  ìš”ì†Œì— ë¦¬ë“€ì‹± ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ `groupingBy`ì— ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ì»¬ë ‰í„°ë¥¼ ì‚¬ìš©

```java
Map<Type, Integer> totalCaloriesByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType,
                Collectors.summingInt(Dish::getCalories)));
// {MEAT=1900, FISH=750, OTHER=1550}
```

- `mapping` : ì…ë ¥ ìš”ì†Œë¥¼ ëˆ„ì í•˜ê¸° ì „ì— ë§¤í•‘ í•¨ìˆ˜ë¥¼ ì ìš©í•´ì„œ ë‹¤ì–‘í•œ í˜•ì‹ì˜ ê°ì²´ë¥¼ ì£¼ì–´ì§„ í˜•ì‹ì˜ ì»¬ë ‰í„°ì— ë§ê²Œ ë³€í™˜

```java
Map<Type, Set<CaloricLevel>> caloricLevelsByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType, Collectors.mapping(dish -> {
                    // ë§¤í•‘ í•¨ìˆ˜
                    if (dish.getCalories() <= 400) {
                        return CaloricLevel.DIET;
                    } else if (dish.getCalories() <= 700) {
                        return CaloricLevel.NORMAL;
                    } else {
                        return CaloricLevel.FAT;
                    }
                },
                Collectors.toSet()))); // ê²°ê³¼ ëˆ„ì  í˜•ì‹
// {MEAT=[FAT, NORMAL, DIET], FISH=[NORMAL, DIET], OTHER=[NORMAL, DIET]}
```

- `toCollection`
  - ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ì»¬ë ‰ì…˜ì˜ í˜•ì‹ ì œì–´

```java
Map<Type, Set<CaloricLevel>> caloricLevelsByType = menu.stream()
        .collect(Collectors.groupingBy(Dish::getType, Collectors.mapping(dish -> {
                    if (dish.getCalories() <= 400) {
                        return CaloricLevel.DIET;
                    } else if (dish.getCalories() <= 700) {
                        return CaloricLevel.NORMAL;
                    } else {
                        return CaloricLevel.FAT;
                    }
                },
                Collectors.toCollection(HashSet::new)))); // `toCollection`
```

# ë¶„í• 

- ë¶„í•  í•¨ìˆ˜(partitioning function)ë¼ ë¶ˆë¦¬ëŠ” í”„ë ˆë””ì¼€ì´íŠ¸ë¥¼ ë¶„ë¥˜ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” íŠ¹ìˆ˜í•œ ê·¸ë£¹í™” ê¸°ëŠ¥
  - ë¶ˆë¦¬ì–¸ì„ ë°˜í™˜ : Mapì˜ KeyëŠ” Boolean
  - Mapì€ ìµœëŒ€ ë‘ ê°œì˜ ê·¸ë£¹ìœ¼ë¡œ ë¶„ë¥˜
- `partitioningBy`

```java
Map<Boolean, List<Dish>> partitionedMenu = menu.stream()
        .collect(Collectors.partitioningBy(Dish::isVegetarian)); // Dish::isVegetarianì´ ë¶„í•  í•¨ìˆ˜
// {false=[pork, beef, chicken, prawns, salmon], true=[french fries, rice, season fruit, pizza]}
List<Dish> vegetarianDishes = partitionedMenu.get(true);

// ì•„ë˜ì™€ ë™ì¼
List<Dish> vegetarianDishes = menu.stream()
        .filter(Dish::isVegetarian)
        .toList();
```

## ë¶„í• ì˜ ì¥ì 

- ì°¸, ê±°ì§“ ë‘ ê°€ì§€ ìš”ì†Œì˜ ìŠ¤íŠ¸ë¦¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ìœ ì§€í•œë‹¤
- `ì˜¤ë²„ë¡œë“œ ë²„ì „ partitioningBy` : ì»¬ë ‰í„°ë¥¼ ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆìŒ
  ```java
  Map<Boolean, Map<Type, List<Dish>>> vegetarianDishesByType = menu.stream()
        .collect(
                Collectors.partitioningBy(Dish::isVegetarian, // ë¶„í•  í•¨ìˆ˜
                        Collectors.groupingBy(Dish::getType)) // ë‘ ë²ˆì§¸ ì»¬ë ‰í„°
        );
  // {false={MEAT=[pork, beef, chicken], FISH=[prawns, salmon]}, true={OTHER=[french fries, rice, season fruit, pizza]}}
  ```

# Collector ì¸í„°í˜ì´ìŠ¤

<div align="center">

> Collector ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§ì ‘ êµ¬í˜„í•´ì„œ ë” íš¨ìœ¨ì ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì»¬ë ‰í„°ë¥¼ ë§Œë“œëŠ” ë°©ë²•

</div>

- collect(ë°œí–‰, ëˆ„ì , í•©ì¹¨) ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¡œë“œ í•  ìˆ˜ ìˆì§€ë§Œ ê°€ë…ì„±ì´ ë–¨ì–´ì§
- & Characteristicsë¥¼ ì „ë‹¬í•  ìˆ˜ ì—†ë‹¤
- â¡ï¸ ì ì ˆí•œ í´ë˜ìŠ¤ë¡œ ì»¤ìŠ¤í…€ ì»¬ë ‰í„°ë¥¼ êµ¬í˜„í•˜ëŠ” í¸ì´ ì¤‘ë³µì„ í”¼í•˜ê³  ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ëŠ” ë° ë„ì›€ì´ ëœë‹¤

```java
public interface Collector<T, A, R> {
    // T : ìˆ˜ì§‘ë  ìŠ¤íŠ¸ë¦¼ í•­ëª©
    // A : ëˆ„ì ì. ìˆ˜ì§‘ ê³¼ì •ì—ì„œ ì¤‘ê°„ ê²°ê³¼ë¥¼ ëˆ„ì í•˜ëŠ” ê°ì²´ í˜•ì‹
    // R : ìˆ˜ì§‘ ì—°ì‚° ê²°ê³¼ ê°ì²´ í˜•ì‹(ëŒ€ê°œ ì»¬ë™ì…˜)
    Supplier<A> supplier();
    BiConsumer<A, T> accumulator();
    BinaryOperator<A> combiner();
    Function<A, R> finisher();
    Set<Characteristics> characteristics();
}
```

## Collector ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œ

### Supplier : ìƒˆë¡œìš´ ê²°ê³¼ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°

- ë¹ˆ ê²°ê³¼ë¡œ ì´ë£¨ì–´ì§„ Supplier ë°˜í™˜
- ë¹ˆ ëˆ„ì ì ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” í•¨ìˆ˜
- ëˆ„ì ìë¥¼ ë°˜í™˜í•˜ëŠ” ì»¬ë ‰í„°ì—ì„œëŠ” ë¹ˆ ëˆ„ì ìê°€ ë¹„ì–´ìˆëŠ” ìŠ¤íŠ¸ë¦¼ì˜ ìˆ˜ì§‘ ê³¼ì •ì˜ ê²°ê³¼ê°€ ë  ìˆ˜ ìˆë‹¤

```java
public Supplier<List<T>> supplier() {
    return () -> new ArrayList<>();
    // ArrayList::new; ì™€ ë™ì¼
}
```

## accumulator : ê²°ê³¼ ì»¨í…Œì´ë„ˆì— ìš”ì†Œ ì¶”ê°€í•˜ê¸°

- ë¦¬ë“€ì‹± ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ ë°˜í™˜
- ìµœì í™”ì˜ í•µì‹¬

```java
public BiConsumer<List<T>, T> accumulator() {
    return List::add; // void
}
```

## finisher : ìµœì¢… ë³€í™˜ê°’ì„ ê²°ê³¼ ì»¨í…Œì´ë„ˆë¡œ ì ìš©í•˜ê¸°

- ìŠ¤íŠ¸ë¦¼ íƒìƒ‰ì„ ëë‚´ê³  ëˆ„ì ì ê°ì²´ë¥¼ ìµœì¢… ê²°ê³¼ë¡œ ë³€í™˜í•˜ë©´ì„œ ëˆ„ì  ê³¼ì •ì„ ëë‚¼ ë•Œ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ë°˜í™˜
- ëˆ„ì ì ê°ì²´ê°€ ì´ë¯¸ ìµœì¢… ê²°ê³¼ â¡ï¸ í•­ë“± í•¨ìˆ˜ ë°˜í™˜

```java
public Function<List<T>, List<T>> finisher() {
    return Function.identity(); // ì…ë ¥ ê°’ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜
}
```

## combiner : ë‘ ê²°ê³¼ ì»¨í…Œì´ë„ˆ ë³‘í•©

- ìŠ¤íŠ¸ë¦¼ì˜ ì„œë¡œ ë‹¤ë¥¸ ì„œë¸Œ íŒŒíŠ¸ë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ë•Œ ëˆ„ì ìê°€ ì´ ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ì •ì˜
- ìŠ¤íŠ¸ë¦¼ì˜ ë¦¬ë“€ì‹±ì„ ë³‘ë ¬ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë©”ì„œë“œ

```java
public BinaryOperator<List<T>> combiner() {
    return (list1, list2) -> {
        list1.addAll(list2);
        return list1;
    };
}
```

## Characteristics

- ì»¬ë ‰í„°ì˜ ì—°ì‚°ì„ ì •ì˜í•˜ëŠ” Characteristics í˜•ì‹ì˜ ë¶ˆë³€ ì§‘í•©ì„ ë°˜í™˜
  - Characterristics
    - ìŠ¤íŠ¸ë¦¼ APIì—ì„œ ì‚¬ìš©ë˜ëŠ” ì»¬ë ‰í„°ì˜ íŠ¹ì„±(íŠ¹ì§•)ì„ ì •ì˜í•˜ëŠ” ì—´ê±°í˜•
    - ì»¬ë ‰í„°ê°€ ì–´ë–¤ ë™ì‘ì´ë‚˜ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒìˆ˜ë“¤ì„ ì œê³µ

1. CONCURRENT:
   - ì»¬ë ‰í„°ëŠ” ë³‘ë ¬ ìŠ¤íŠ¸ë¦¼ì—ì„œ ì•ˆì „í•˜ê²Œ ë³‘ë ¬ ë¦¬ë“€ì‹±ì„ ìˆ˜í–‰
   - UNORDEREDë¥¼ í•¨ê»˜ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ìš”ì†Œì˜ ìˆœì„œê°€ ë¬´ì˜ë¯¸í•œ ìƒí™©ì—ì„œë§Œ ë³‘ë ¬ ë¦¬ë“€ì‹± ìˆ˜í–‰ ê°€ëŠ¥
2. UNORDERED: ì»¬ë ‰í„°ëŠ” ë¦¬ë“€ì‹± ê²°ê³¼ë¥¼ ìœ ì§€í•  ë•Œ ìš”ì†Œì˜ ìˆœì„œë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠìŒ
3. IDENTITY_FINISH
   - ì»¬ë ‰í„°ì˜ finisherê°€ í•­ë“± í•¨ìˆ˜(Identity Function)ì„
   - ë¦¬ë“€ì‹±ì˜ ìµœì¢… ê²°ê³¼ë¡œ ëˆ„ì ì ê°ì²´ë¥¼ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
   - ë³„ë„ì˜ ì¢…ë£Œ ì‘ì—…ì´ í•„ìš”í•˜ì§€ ì•ŠìŒì„ ì˜ë¯¸

```java
public Set<Characteristics> characteristics() {
   return Collections.unmodifiableSet(EnumSet.of(Characteristics.IDENTITY_FINISH, Characteristics.CONCURRENT));
}
```
