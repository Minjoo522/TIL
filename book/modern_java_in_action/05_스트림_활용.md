# ìŠ¤íŠ¸ë¦¼ í™œìš©

|     |                                                                 |
| :-: | --------------------------------------------------------------- |
| `1` | [í•„í„°ë§](#í•„í„°ë§)                                               |
| `2` | [ìŠ¤íŠ¸ë¦¼ ìŠ¬ë¼ì´ì‹±](#ìŠ¤íŠ¸ë¦¼-ìŠ¬ë¼ì´ì‹±)                             |
| `3` | [ë§¤í•‘](#ë§¤í•‘)                                                   |
| `4` | [ê²€ìƒ‰ê³¼ ë§¤ì¹­](#ê²€ìƒ‰ê³¼-ë§¤ì¹­)                                     |
| `5` | [ë¦¬ë“€ì‹±](#ë¦¬ë“€ì‹±)                                               |
| `6` | [ìˆ«ìí˜• ìŠ¤íŠ¸ë¦¼](#ìˆ«ìí˜•-ìŠ¤íŠ¸ë¦¼)                                 |
| `7` | [ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°](#ë‹¤ì–‘í•œ-ë°©ì‹ìœ¼ë¡œ-ìŠ¤íŠ¸ë¦¼-ë§Œë“¤ê¸°) |

---

- ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ëŠ” ìŠ¤íŠ¸ë¦¼ APIê°€ ê´€ë¦¬í•˜ë¯€ë¡œ í¸ë¦¬í•˜ê²Œ ë°ì´í„° ê´€ë ¨ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤

# í•„í„°ë§

## í”„ë ˆë””ì¼€ì´íŠ¸ë¡œ í•„í„°ë§

- `filter`
  - í”„ë ˆë””ì¼€ì´íŠ¸(ë¶ˆë¦¬ì–¸ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜)ë¥¼ ì¸ìˆ˜ë¡œ ë°›ì•„ í”„ë ˆë””ì¼€ì´íŠ¸ì™€ ì¼ì¹˜í•˜ëŠ” ëª¨ë“  ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜

```java
menu.stream()
    .filter(dish -> dish.getCalories() > 300)
    .toList();
```

## ê³ ìœ  ìš”ì†Œ í•„í„°ë§

- `disctinct`
  - ê³ ìœ  ìš”ì†Œë¡œ ì´ë£¨ì–´ì§„ ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜(ì¤‘ë³µ ì œê±°)
  - ê³ ìœ  ì—¬ë¶€ : hashCode, equalsë¡œ ê²°ì •

```java
List<Integer> numbers = List.of(1, 2, 1, 3, 3, 2, 4);
List<Integer> uniqueNumbers = numbers.stream()
        .distinct()
        .toList(); // 1, 2, 3, 4
```

# ìŠ¤íŠ¸ë¦¼ ìŠ¬ë¼ì´ì‹±

- ìŠ¤íŠ¸ë¦¼ ìš”ì†Œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ìŠ¤í‚µí•˜ëŠ” ë°©ë²•

## í”„ë ˆë””ì¼€ì´íŠ¸ ìŠ¬ë¼ì´ì‹±

- `takeWhile` : í”„ë ˆë””ì¼€ì´íŠ¸ê°€ trueì¸ ë™ì•ˆ ë°˜ë³µ â¡ï¸ falseê°€ ë˜ëŠ” ìˆœê°„ ë°˜ë³µ ì‘ì—…ì„ ì¤‘ë‹¨
- `dropWhile` : â†”ï¸ takeWhile / í”„ë ˆë””ì¼€ì´íŠ¸ê°€ falseê°€ ë˜ë©´ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ë‚¨ì€ ìš”ì†Œë¥¼ ëª¨ë‘ ë°˜í™˜

```java
// specialMenuëŠ” ì¹¼ë¡œë¦¬ ìˆœì„œë¡œ ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸
List<Dish> specialMenu = List.of(
        new Dish("seasonal fruit", true, 120, Type.OTHER),
        new Dish("prawns", false, 300, Type.FISH),
        new Dish("rice", true, 350, Type.OTHER),
        new Dish("chicken", false, 400, Type.MEAT),
        new Dish("french fries", true, 530, Type.OTHER)
);

// takeWhile
List<Dish> takeWhileTest = specialMenu.stream()
        .takeWhile(dish -> dish.getCalories() < 320)
        .toList(); // 320ë³´ë‹¤ ì¹¼ë¡œë¦¬ê°€ ë‚®ì€ ìš”ë¦¬ë“¤ë§Œ í•„í„°ë§ë¨
        // [seasonal fruit, prawns]

// dropWhile
List<Dish> dropWhileTest = specialMenu.stream()
        .dropWhile(dish -> dish.getCalories() < 320)
        .toList();
        // [rice, chicken, french fries]
```

## ìŠ¤íŠ¸ë¦¼ ì¶•ì†Œ

- `limit(n)` : ì£¼ì–´ì§„ ê°’ ì´í•˜ì˜ í¬ê¸°ë¥¼ ê°–ëŠ” ìƒˆë¡œìš´ ìŠ¤íŠ¸ë¦¼ ë°˜í™˜

```java
List<Dish> limitTest = specialMenu.stream()
        .filter(dish -> dish.getCalories() > 300)
        .limit(3)
        .toList();
        // [rice, chicken, french fries]
```

## ìš”ì†Œ ê±´ë„ˆë›°ê¸°

- `skip(n)` : ì²˜ìŒ nê°œ ìš”ì†Œë¥¼ ì œì™¸í•œ ìŠ¤íŠ¸ë¦¼ ë°˜í™˜
  - nê°œ ì´í•˜ì˜ ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ìŠ¤íŠ¸ë¦¼ì— skip(n)ì„ í˜¸ì¶œí•˜ë©´ ë¹ˆ ìŠ¤íŠ¸ë¦¼ì´ ë°˜í™˜

```java
List<Dish> skipTest = specialMenu.stream()
        .filter(dish -> dish.getCalories() > 300)
        .skip(2)
        .toList(); // [french fries]
```

# ë§¤í•‘

## ìŠ¤íŠ¸ë¦¼ì˜ ê° ìš”ì†Œì— í•¨ìˆ˜ ì ìš©í•˜ê¸°

- `map` : í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ìŒ / ì œê³µëœ í•¨ìˆ˜ëŠ” ê° ìš”ì†Œì— ì ìš©ë˜ë©° í•¨ìˆ˜ë¥¼ ì ìš©í•œ ê²°ê³¼ê°€ ìƒˆë¡œìš´ ìš”ì†Œë¡œ ë§¤í•‘ë¨

```java
List<String> dishNames = menu.stream()
        .map(Dish::getName) // ê° dishì˜ ìš”ë¦¬ëª… ì¶”ì¶œ
        .toList();
```

### map chaining

```java
List<Integer> dishNameLengths = menu.stream()
        .map(Dish::getName)
        .map(String::length) // ìš”ë¦¬ëª…ì˜ ê¸¸ì´ ë§¤í•‘
        .toList();
```

## ìŠ¤íŠ¸ë¦¼ í‰ë©´í™”

- `flatMap` : ìŠ¤íŠ¸ë¦¼ì˜ ê° ê°’ì„ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë§Œë“  ë‹¤ìŒ ëª¨ë“  ìŠ¤íŠ¸ë¦¼ì„ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì—°ê²°

```java
List<String> words = List.of("Modern", "Java", "In", "Action");
List<String> uniqueCharacters = words.stream()
        .map(word -> word.split("")) // ê° ë‹¨ì–´ê°€ ë¬¸ìì—´ ë°°ì—´ë¡œ ë³€í™˜ë¨ Stream<String[]>{"M", "o", "d"...}...
        .flatMap(Arrays::stream) // ìƒì„±ëœ ìŠ¤íŠ¸ë¦¼ì„ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ í‰ë©´í™” Stream<String>
        .distinct()
        .toList(); // [M, o, d, e, r, n, J, a, v, I, A, c, t, i]
```

# ê²€ìƒ‰ê³¼ ë§¤ì¹­

- íŠ¹ì • ì†ì„±ì´ ë°ì´í„° ì§‘í•©ì— ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²€ìƒ‰

## í”„ë ˆë””ì¼€ì´íŠ¸ê°€ ì ì–´ë„ í•œ ìš”ì†Œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

- `anyMatch` : í”„ë ˆë””ì¼€ì´íŠ¸ê°€ ì£¼ì–´ì§„ ìŠ¤íŠ¸ë¦¼ì—ì„œ ì ì–´ë„ í•œ ìš”ì†Œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

```java
if (menu.stream().anyMatch(Dish::isVegetarian)) {
    System.out.println("vegetarian ìš”ë¦¬ğŸ³ê°€ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.ğŸ‘©â€ğŸ³");
}
```

## í”„ë ˆë””ì¼€ì´íŠ¸ê°€ ëª¨ë“  ìš”ì†Œì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì‚¬

- `allMatch` : ìŠ¤íŠ¸ë¦¼ì˜ ëª¨ë“  ìš”ì†Œê°€ ì£¼ì–´ì§„ í”„ë ˆë””ì¼€ì´íŠ¸ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì‚¬

```java
List<Dish> meatOnly = List.of(new Dish("pork", false, 800, Type.MEAT),
        new Dish("beef", false, 700, Type.MEAT),
        new Dish("chicken", false, 400, Type.MEAT));

if (meatOnly.stream().allMatch(Dish::isMeat)) {
    System.out.println("ê³ ê¸° ìš”ë¦¬ë§Œ ìˆìŒ! ğŸ–");
}
```

- `noneMatch` : â†”ï¸ allMatch / ì£¼ì–´ì§„ í”„ë ˆë””ì¼€ì´íŠ¸ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ëŠ”ì§€ í™•ì¸

## ìš”ì†Œ ê²€ìƒ‰

- `findAny` : í˜„ì¬ ìŠ¤íŠ¸ë¦¼ì—ì„œ ì„ì˜ì˜ ìš”ì†Œë¥¼ ë°˜í™˜ / ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ì—°ì‚°ê³¼ ì—°ê²°í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
  - ê²°ê³¼ë¥¼ ì°¾ëŠ” ì¦‰ì‹œ ì‹¤í–‰ì„ ì¢…ë£Œ

```java
// findAnyëŠ” ì•„ë¬´ ìš”ì†Œë„ ë°˜í™˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
menu.stream()
        .filter(Dish::isVegetarian)
        .findAny() // Optional<Dish> ë°˜í™˜
        .ifPresent(dish -> System.out.println(dish.getName()));
        // ifPresent : ê°’ì´ ìˆìœ¼ë©´ ì¶œë ¥, ì—†ìœ¼ë©´ ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠìŒ
        // ì°¸ê³ ) isPresent : ê°’ì´ ìˆìœ¼ë©´ true ë°˜í™˜, ì—†ìœ¼ë©´ false ë°˜í™˜
```

## ì²« ë²ˆì§¸ ìš”ì†Œ ì°¾ê¸°

- `findFirst` : ìŠ¤íŠ¸ë¦¼ì—ì„œ ì²« ë²ˆì§¸ ìš”ì†Œ ì°¾ê¸°

```java
List<Integer> someNumbers = List.of(1, 2, 3, 4, 5);
Optional<Integer> firstDivisibleByThree = someNumbers.stream()
        .filter(n -> n % 3 == 0)
        .findFirst(); // 3
```

# ë¦¬ë“€ì‹±(`reduce`)

- ëª¨ë“  ìŠ¤íŠ¸ë¦¼ ìš”ì†Œë¥¼ ì²˜ë¦¬í•´ì„œ ê°’ìœ¼ë¡œ ë„ì¶œí•˜ëŠ” ì‘ì—…

## ìš”ì†Œì˜ í•©

```java
List<Integer> numbers = List.of(1, 2, 3, 4, 5);

int sum = 0;
for (int num: numbers) {
    sum += num;
}

int sum = numbers.stream().reduce(0, (a, b) -> a + b);

// ë©”ì„œë“œ ì°¸ì¡°
int sum = numbers.stream().reduce(0, Integer::sum);
```

<div align="center">

<img src="img/4.png">

</div>

- ì´ˆê¸° ê°’ì´ ì—†ìœ¼ë©´ Optional ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤

## ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’

```java
int max = numbers.stream().reduce(0, Integer::max);
int min = numbers.stream().reduce(987654321, Integer::min);
```

# ìˆ«ìí˜• ìŠ¤íŠ¸ë¦¼

```java
int sum = numbers.stream().reduce(0, Integer::sum);
// í•©ê³„ë¥¼ ê³„ì‚°í•˜ê¸° ì „ì— Integerë¥¼ ê¸°ë³¸í˜•ìœ¼ë¡œ ì–¸ë°•ì‹± í•´ì•¼ í•¨
```

## ê¸°ë³¸í˜• íŠ¹í™” ìŠ¤íŠ¸ë¦¼

- `IntStream`, `DoubleStream`, `LongStream`
- ìì£¼ ì‚¬ìš©í•˜ëŠ” ìˆ«ì ê´€ë ¨ ë¦¬ë“€ì‹± ì—°ì‚° ìˆ˜í–‰ ë©”ì„œë“œë¥¼ ì œê³µ
- í•„ìš”í•  ë•Œ ë‹¤ì‹œ ê°ì²´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³µì›í•˜ëŠ” ê¸°ëŠ¥ ì œê³µ
- ë°•ì‹± ê³¼ì •ì—ì„œ ì¼ì–´ë‚˜ëŠ” íš¨ìœ¨ì„±ê³¼ ê´€ë ¨ ìˆìœ¼ë©° ìŠ¤íŠ¸ë¦¼ì— ì¶”ê°€ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ëŠ” ì•ŠìŒ

### ìˆ«ì ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë§¤í•‘

- íŠ¹í™” ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜ : `mapToInt`, `mapToDouble`, `mapToLong`

```java
int calories = menu.stream()
        .mapToInt(Dish::getCalories) // IntStreamìœ¼ë¡œ ë³€í™˜(âŒ Stream<Integer>)
        .sum(); // IntStream ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ë©”ì„œë“œ
        // ìŠ¤íŠ¸ë¦¼ì´ ë¹„ì–´ìˆìœ¼ë©´ ê¸°ë³¸ê°’ 0ì„ ë°˜í™˜
```

### ê°ì²´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³µì›

- `boxed`

```java
IntStream intStream = menu.stream()
        .mapToInt(Dish::getCalories);
Stream<Integer> stream = intStream.boxed();
```

### ê¸°ë³¸ê°’ : OptionalInt

- Optionalì„ Integer, String ë“±ì˜ ì°¸ì¡° í˜•ì‹ìœ¼ë¡œ íŒŒë¼ë¯¸í„°í™”
- `OptionalInt`, `OptionalDouble`, `OptionalLong`

```java
// maxì˜ ê²½ìš° ì´ˆê¸° ê°’ì„ 0ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆëŠ” ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ Optional ì‚¬ìš©
OptionalInt maxCalories = menu.stream()
        .mapToInt(Dish::getCalories)
        .max();
```

```java
// ê¸°ë³¸ ìµœëŒ€ê°’ ëª…ì‹œì ìœ¼ë¡œ ì ìš©
int maxCalories = menu.stream()
        .mapToInt(Dish::getCalories)
        .max()
        .orElse(500);
```

## ìˆ«ì ë²”ìœ„

- `range`, `rangeClosed`
  - ì²« ë²ˆì§¸ ì¸ìˆ˜ : ì‹œì‘ê°’
  - ë‘ ë²ˆì§¸ ì¸ìˆ˜ : ì¢…ë£Œê°’
  - `range` : ì‹œì‘ê°’ê³¼ ì¢…ë£Œê°’ì´ ê²°ê³¼ì— í¬í•¨ë˜ì§€ ì•ŠìŒ
  - `rangeClosed` : ì‹œì‘ê°’ê³¼ ì¢…ë£Œê°’ì´ ê²°ê³¼ì— `í¬í•¨`

```java
IntStream evenNumbers = IntStream.rangeClosed(1, 100)
        .filter(n -> n % 2 == 0);
```

# ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°

## ê°’ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°

- `Stream.of`

```java
Stream<String> stream = Stream.of("Modern", "Java", "In", "Action");
stream.map(String::toUpperCase)
        .forEach(System.out::println);
```

## nullì´ ë  ìˆ˜ ìˆëŠ” ê°ì²´ë¡œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°

- `Stream.ofNullable`

```java
Stream<String> values = Stream.of("config", "home", "user")
        .flatMap(key -> Stream.ofNullable(System.getProperty(key)));
```

## ë°°ì—´ë¡œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°

- `Arrays.stream`

```java
int[] numbers = {1, 2, 3, 4, 5};
int sum = Arrays.stream(numbers).sum(); // ê¸°ë³¸í˜• int ë°°ì—´ â¡ï¸ IntStreamìœ¼ë¡œ ë³€í™˜
```

## íŒŒì¼ë¡œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°

- `java.nio.file.Files`ì˜ ë§ì€ ì •ì  ë©”ì„œë“œê°€ ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜

## í•¨ìˆ˜ë¡œ ë¬´í•œ ìŠ¤íŠ¸ë¦¼ ë§Œë“¤ê¸°

- `Stream.iterate`, `Stream.generate`
- ë³´í†µ ë¬´í•œí•œ ê°’ì„ ì¶œë ¥í•˜ì§€ ì•Šë„ë¡ `limit(n)` í•¨ìˆ˜ë¥¼ ì—°ê²°í•´ì„œ ì‚¬ìš©
- ë¬´í•œ ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†ŒëŠ” ë¬´í•œì ìœ¼ë¡œ ê³„ì‚°ì´ ë°˜ë³µë˜ë¯€ë¡œ ì •ë ¬í•˜ê±°ë‚˜ ë¦¬ë“€ìŠ¤ í•  ìˆ˜ ì—†ë‹¤

### `iterate`

- ê¸°ì¡´ ê²°ê³¼ì— ì˜ì¡´í•´ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì—°ì‚° ìˆ˜í–‰
- `ì–¸ë°”ìš´ë“œ ìŠ¤íŠ¸ë¦¼`
- `ì—°ì†ëœ` ì¼ë ¨ì˜ ê°’ì„ ë§Œë“¤ ë•Œ ì‚¬ìš©

```java
Stream.iterate(ì´ˆê¸°ê°’, ëŒë‹¤ì‹(ì´ì „ê°’ -> ë‹¤ìŒê°’))
```

```java
Stream.iterate(0, n -> n + 2)
        .limit(10)
        .forEach(System.out::println);
```

- `í”„ë ˆë”” ì¼€ì´íŠ¸ ì§€ì›`

```java
Stream.iterate(ì´ˆê¸°ê°’, í”„ë ˆë””ì¼€ì´íŠ¸, ëŒë‹¤ì‹(ì´ì „ê°’ -> ë‹¤ìŒê°’))
```

```java
IntStream.iterate(0, n -> n < 100, n -> n +4)
        .forEach(System.out::println);
```

### `generate`

- Supplier\<T>ë¥¼ ì¸ìˆ˜ë¡œ ë°›ì•„ì„œ ìƒˆë¡œìš´ ê°’ì„ ìƒì„±
- limitê°€ ì—†ë‹¤ë©´ ìŠ¤íŠ¸ë¦¼ì€ `ì–¸ë°”ìš´ë“œ ìƒíƒœ`ê°€ ë¨

```java
Stream.generate(Math::random)
        .limit(5)
        .forEach(System.out::println);
```
