# ê°ì²´ ìƒì„±ê³¼ íŒŒê´´

## ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ê³ ë ¤í•˜ë¼

- í´ë˜ìŠ¤ëŠ” ìƒì„±ìì™€ ë³„ë„ë¡œ ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œ(static factory method)ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤

```java
public static Boolean valueOf(boolean b) {
    return (b ? TRUE : FALSE);
}
```

- í´ë˜ìŠ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì— public ìƒì„±ì ëŒ€ì‹ (í˜¹ì€ ìƒì„±ìì™€ í•¨ê»˜) ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤

### ì¥ì 

- ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤
  - ì´ë¦„ì„ ì˜ ì§€ìœ¼ë©´ ë°˜í™œë  ê°ì²´ì˜ íŠ¹ì„±ì„ ì‰½ê²Œ ë¬˜ì‚¬í•  ìˆ˜ ìˆë‹¤
- í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì§€ëŠ” ì•Šì•„ë„ ëœë‹¤
  - ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ê±°ë‚˜ ìƒˆë¡œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìºì‹±í•˜ì—¬ ì¬í™œìš© â¡ï¸ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•  ìˆ˜ ìˆë‹¤
  - ë°˜ë³µë˜ëŠ” ìš”ì²­ì— ê°™ì€ ê°ì²´ë¥¼ ë°˜í™˜ â¡ï¸ ì–¸ì œ ì–´ëŠ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚´ì•„ ìˆê²Œ í• ì§€ ì² ì €íˆ í†µì œ ê°€ëŠ¥(ì¸ìŠ¤í„´ìŠ¤ í†µì œ í´ë˜ìŠ¤)
    - ì‹±ê¸€í„´ í´ë˜ìŠ¤, ì¸ìŠ¤í„´ìŠ¤í™” ë¶ˆê°€ í´ë˜ìŠ¤, ë¶ˆë³€ ê°’ í´ë˜ìŠ¤ì—ì„œ ë™ì¹˜ì¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¨ í•˜ë‚˜ë¿ì„ì„ ë³´ì¥
    - í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì˜ ê·¼ê°„

```java
public static final Boolean TRUE = new Boolean(true);
public static final Boolean FALSE = new Boolean(false);
```

- ë°˜í™˜ íƒ€ì…ì˜ í•˜ìœ„ íƒ€ì… ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ ëŠ¥ë ¥ì´ ìˆë‹¤
  - ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ììœ ë¡­ê²Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±
  - êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ê³µê°œí•˜ì§€ ì•Šê³ ë„ ê·¸ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ â¡ï¸ APIë¥¼ ì‘ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤
  - ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ í”„ë ˆì„ì›Œí¬ë¥¼ ë§Œë“œëŠ” í•µì‹¬ ê¸°ìˆ 
- ì…ë ¥ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë§¤ë²ˆ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤
  - í´ë¼ì´ì–¸íŠ¸ëŠ” íŒ©í„°ë¦¬ê°€ ê±´ë„¤ì£¼ëŠ” ê°ì²´ê°€ ì–´ëŠ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ ì•Œ ìˆ˜ë„ ì—†ê³  ì•Œ í•„ìš”ë„ ì—†ë‹¤
- ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ëŠ” ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤
  - ì„œë¹„ìŠ¤ ì œê³µì í”„ë ˆì„ì›Œí¬ë¥¼ ë§Œë“œëŠ” ê·¼ê°„

### ë‹¨ì 

- ìƒì†ì„ í•˜ë ¤ë©´ publicì´ë‚˜ protected ìƒì„±ìê°€ í•„ìš”í•˜ë‹ˆ ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë§Œ ì œê³µí•˜ë©´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤
  - ìƒì†í•  ìˆ˜ ì—†ë‹¤
  - ìƒì†ë³´ë‹¤ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ë„ë¡ ìœ ë„, ë¶ˆë³€ íƒ€ì…ì„ ë§Œë“œë ¤ë©´ ì´ ì œì•½ì„ ì§€ì¼œì•¼ í•¨ â¡ï¸ ì˜¤íˆë ¤ ì¥ì ì¼ìˆ˜ë„
- í”„ë¡œê·¸ë˜ë¨¸ê°€ ì°¾ê¸° ì–´ë µë‹¤
  - ì¸ìŠ¤í„´ìŠ¤í™” ë°©ë²•ì„ ì•Œì•„ë‚´ì•¼ í•œë‹¤

```markdown
- `from` : ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë°›ì•„ì„œ í•´ë‹¹ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” í˜•ë³€í™˜ ë©”ì„œë“œ
- `of` : ì—¬ëŸ¬ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ì•„ ì í•©í•œ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ì§‘ê³„ ë©”ì„œë“œ
- `valueOf` : fromê³¼ ofì˜ ë” ìì„¸í•œ ë²„ì „
- `instance` or `getInstance` : (ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤ë©´) ë§¤ê°œë³€ìˆ˜ë¡œ ëª…ì‹œí•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ, ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì…ì„ ë³´ì¥í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤
- `create` or `newInstance` : instance í˜¹ì€ getInstanceì™€ ê°™ì§€ë§Œ, ë§¤ë²ˆ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ ë°˜í™˜í•¨ì„ ë³´ì¥
- `getType` : getInstanceì™€ ê°™ìœ¼ë‚˜, ìƒì„±í•  í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©(Type : íŒ©í„°ë¦¬ ë©”ì„œë“œê°€ ë°˜í™˜í•  ê°ì²´ì˜ íƒ€ì…)
- `newType` : newInstanceì™€ ê°™ìœ¼ë‚˜, ìƒì„±í•  í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©(Type : íŒ©í„°ë¦¬ ë©”ì„œë“œê°€ ë°˜í™˜í•  ê°ì²´ì˜ íƒ€ì…)
- `type` : getTypeê³¼ newTypeì˜ ê°„ê²°í•œ ë²„ì „
```

## ìƒì„±ìì— ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼

- ìƒì„±ì, ì •ì  íŒ©í„°ë¦¬ : ì„ íƒì  ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•Œ ì ì ˆíˆ ëŒ€ì‘í•˜ê¸° ì–´ë µë‹¤

### ì ì¸µì  ìƒì„±ì íŒ¨í„´ - í™•ì¥í•˜ê¸° ì–´ë µë‹¤

```java
public class NutritionFacts {
    private final int servingSize;
    private final int servings;
    private final int calories;
    private final int fat;
    private final int sodium;
    private final int carbohydrate;

    public NutritionFacts(int servingSize, int servings) {
        this(servingSize, servings, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories) {
        this(servingSize, servings, calories, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat) {
        this(servingSize, servings, calories, fat, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium) {
        this(servingSize, servings, calories, fat, sodium, 0);
    }

    public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium, int carbohydrate) {
        this.servingSize = servingSize;
        this.servings = servings;
        this.calories = calories;
        this.fat = fat;
        this.sodium = sodium;
        this.carbohydrate = carbohydrate;
    }
}
```

- ì ì¸µì  ìƒì„±ì íŒ¨í„´ì€ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì•„ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ì½ê¸° ì–´ë µë‹¤

### ìë°”ë¹ˆì¦ˆ íŒ¨í„´(JavaBeans pattern)

- ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¡œ ê°ì²´ë¥¼ ë§Œë“  í›„, setter ë©”ì„œë“œë“¤ì„ í˜¸ì¶œí•´ ì›í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ì‹

```java
public class NutritionFacts2 {
    // ë§¤ê°œë³€ìˆ˜ë“¤ì€ (ê¸°ë³¸ê°’ì´ ìˆë‹¤ë©´) ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°ëœë‹¤
    private int servingSize = -1;
    private int servings = -1;
    private int calories = 0;
    private int fat = 0;
    private int sodium = 0;
    private int carbohydrate = 0;

    public NutritionFacts2() {}

    // ì„¸í„° ë©”ì„œë“œë“¤

    public void setServingSize(int servingSize) {
        this.servingSize = servingSize;
    }

    public void setServings(int servings) {
        this.servings = servings;
    }

    public void setCalories(int calories) {
        this.calories = calories;
    }

    public void setFat(int fat) {
        this.fat = fat;
    }

    public void setSodium(int sodium) {
        this.sodium = sodium;
    }

    public void setCarbohydrate(int carbohydrate) {
        this.carbohydrate = carbohydrate;
    }
}
```

```java
public static void main(String[] args) {
    NutritionFacts2 cocaCola = new NutritionFacts2();
    cocaCola.setServingSize(240);
    cocaCola.setServings(8);
    cocaCola.setCalories(100);
    cocaCola.setSodium(35);
    cocaCola.setCarbohydrate(27);
}
```

- ê°ì²´ í•˜ë‚˜ë¥¼ ë§Œë“œë ¤ë©´ ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ ê°œ í˜¸ì¶œí•´ì•¼ í•¨
- ê°ì²´ê°€ ì™„ì „íˆ ì™„ì„±ë˜ê¸° ì „ê¹Œì§€ëŠ” ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì— ë†“ì„
  - ë²„ê·¸ë¥¼ ì‹¬ì€ ì½”ë“œì™€ ê·¸ ë²„ê·¸ ë•Œë¬¸ì— ëŸ°íƒ€ì„ì— ë¬¸ì œë¥¼ ê²ªëŠ” ì½”ë“œê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì„ ê²ƒ â¡ï¸ ë””ë²„ê¹… ì–´ë ¤ì›€
- í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìŒ

### `ë¹Œë” íŒ¨í„´`

- í•„ìš”í•œ ê°ì²´ë¥¼ ì§ì ‘ ë§Œë“œëŠ” ëŒ€ì‹ , í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œìœ¼ë¡œ ìƒì„±ì(í˜¹ì€ ì •ì  íŒ©í„°ë¦¬)ë¥¼ í˜¸ì¶œí•´ ë¹Œë” ê°ì²´ë¥¼ ì–»ìŒ
- ë¹Œë” ê°ì²´ê°€ ì œê³µí•˜ëŠ” ì¼ì¢…ì˜ ì„¸í„° ë©”ì„œë“œë“¤ë¡œ ì›í•˜ëŠ” ì„ íƒ ë§¤ê°œë³€ìˆ˜ë“¤ì„ ì„¤ì •
- ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” build ë©”ì„œë“œë¥¼ í˜¸ì¶œ â¡ï¸ ê°ì²´ë¥¼ ì–»ìŒ
- ë³´í†µ ë¹Œë”ëŠ” ìƒì„±í•  í´ë˜ìŠ¤ ì•ˆì— ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ë‘ 

```java
public class NutritionFacts3 {
    private final int servingSize;
    private final int servings;
    private final int calories;
    private final int fat;
    private final int sodium;
    private final int carbohydrate;

    public static class Builder {
        // í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜
        private final int servingSize;
        private final int servings;

        // ì„ íƒ ë§¤ê°œë³€ìˆ˜ - ê¸°ë³¸ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤
        private int calories = 0;
        private int fat = 0;
        private int sodium = 0;
        private int carbohydrate = 0;

        public Builder(int servingSize, int servings) {
            this.servingSize = servingSize;
            this.servings = servings;
        }

        public Builder calories(int val) {
            calories = val;
            return this;
        }

        public Builder fat(int val) {
            fat = val;
            return this;
        }

        public Builder sodium(int val) {
            sodium = val;
            return this;
        }

        public Builder carbohydrate(int val) {
            carbohydrate = val;
            return this;
        }

        public NutritionFacts3 build() {
            return new NutritionFacts3(this);
        }
    }

    private NutritionFacts3(Builder builder) {
        servingSize = builder.servingSize;
        servings = builder.servings;
        calories = builder.calories;
        fat = builder.fat;
        sodium = builder.sodium;
        carbohydrate = builder.carbohydrate;
    }
}
```

- ìƒì„±ëœ í´ë˜ìŠ¤ëŠ” ë¶ˆë³€
- ë¹Œë”ì˜ ì„¸í„° ë©”ì„œë“œë“¤ : ë¹Œë” ìì‹ ì„ ë°˜í™˜ â¡ï¸ ì—°ì‡„ì ìœ¼ë¡œ í˜¸ì¶œ ê°€ëŠ¥
  - í”Œë£¨ì–¸íŠ¸ API(fluent API), ë©”ì„œë“œ ì—°ì‡„(method chaining)

```java
NutritionFacts3 cocaCola = new Builder(240, 8)
        .calories(100)
        .sodium(35)
        .carbohydrate(27)
        .build();
```

- ì“°ê¸° ì‰½ê³ , ì½ê¸° ì‰½ë‹¤
- íŒŒì´ì¬ê³¼ ìŠ¤ì¹¼ë¼ì˜ ëª…ëª…ëœ ì„ íƒì  ë§¤ê°œë³€ìˆ˜(named optional parameters)ë¥¼ í‰ë‚´ë‚¸ ê²ƒ
- ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì“°ê¸°ì— ì¢‹ë‹¤

```java
public abstract class Pizza {
    public enum Topping { HAM, MUSHROOM, ONION, PEPPER, SAUSAGE }
    final Set<Topping> toppings;

    abstract static class Builder<T extends Builder<T>> {
        EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class); // ë¹ˆ EnumSet ìƒì„±
        public T addTopping(Topping topping) {
            toppings.add(Objects.requireNonNull(topping));
            return self();
        }

        abstract Pizza build();

        protected abstract T self();
    }

    Pizza(Builder<?> builder) {
        toppings = builder.toppings.clone(); // ë³µì œë³¸ ìƒì„±
    }
}
```

```java
public class NyPizza extends Pizza {
    public enum Size { SMALL, MEDIUM, LARGE }
    private final Size size;

    public static class Builder extends Pizza.Builder<Builder> {
        private final Size size;

        public Builder(Size size) {
            this.size = Objects.requireNonNull(size);
        }

        @Override
        // ìƒìœ„ í´ë˜ìŠ¤ê°€ ì •ì˜í•œ ë°˜í™˜ íƒ€ì…ì´ ì•„ë‹Œ, ê·¸ í•˜ìœ„ íƒ€ì…ì„ ë°˜í™˜
        // ğŸ©· ê³µë³€ ë°˜í™˜ íƒ€ì´í•‘(covariant return typing)
        // í´ë¼ì´ì–¸íŠ¸ê°€ í˜•ë³€í™˜ì— ì‹ ê²½ ì“°ì§€ ì•Šê³  ë¹Œë” ì‚¬ìš© ê°€ëŠ¥
        public NyPizza build() {
            return new NyPizza(this);
        }

        @Override
        protected Builder self() {
            return this;
        }
    }

    private NyPizza(Builder builder) {
        super(builder);
        size = builder.size;
    }
}
```

```java
public class Calzone extends Pizza {
    private final boolean sauceInside;

    public static class Builder extends Pizza.Builder<Builder> {
        private boolean sauceInside = false;

        public Builder sauceInside() {
            sauceInside  = true;
            return this;
        }

        @Override
        public Calzone build() {
            return new Calzone(this);
        }

        @Override
        protected Builder self() {
            return this;
        }
    }

    private Calzone(Builder builder) {
        super(builder);
        sauceInside = builder.sauceInside;
    }
}
```

```java
NyPizza pizza = new NyPizza.Builder(SMALL)
        .addTopping(SAUSAGE)
        .addTopping(ONION)
        .build();

Calzone calzone = new Builder()
        .addTopping(HAM)
        .sauceInside()
        .build();
```

- ê°€ë³€ì¸ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³  ê° í˜¸ì¶œ ë•Œ ë„˜ê²¨ì§„ ë§¤ê°œë³€ìˆ˜ë“¤ì„ í•˜ë‚˜ì˜ í•„ë“œë¡œ ëª¨ì„ ìˆ˜ë„ ìˆë‹¤
- ì ì¸µì  ìƒì„±ìë³´ë‹¤ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì½ê³  ì“°ê¸°ê°€ í›¨ì”¬ ê°„ê²°í•˜ê³ , ìë°”ë¹ˆì¦ˆë³´ë‹¤ í›¨ì”¬ ì•ˆì „í•˜ë‹¤

### ë¹Œë” íŒ¨í„´ ë‹¨ì 

- ê°ì²´ë¥¼ ë§Œë“œë ¤ë©´ ë¹Œë”ë¶€í„° ë§Œë“¤ì–´ì•¼ í•œë‹¤
  - ì„±ëŠ¥ì— ë¯¼ê°í•œ ìƒí™©ì—ì„œëŠ” ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤
- ì½”ë“œê°€ ì¥í™©í•˜ë‹¤ : í•˜ì§€ë§Œ, APIëŠ” ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì•„ì§€ëŠ” ê²½í–¥ì´ ìˆë‹¤
  - ìƒì„±ìë‚˜ ì •ì  íŒ©í„°ë¦¬ê°€ ì²˜ë¦¬í•´ì•¼ í•  ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë” íŒ¨í„´ì„ ì„ íƒí•˜ëŠ” ê²Œ ë” ë‚«ë‹¤
