# 좋은 단위 테스트의 4대 요소

## 좋은 단위 테스트의 4대 요소

- 회귀 방지
- 리팩터링 내성
- 빠른 피드백
- 유지보수성

### 회귀 방지

- 회귀는 소프트웨어 버그다
  - 코드를 수정한 후 기능이 의도한 대로 작동하지 않는경우
- 코드베이스가 커질수록 잠재적인 버그에 더 많이 노출된다.
  - 회귀에 대한 효과적인 보호가 없다면 프로젝트가 오랫동안 성장할 수 없으며 점점 더 많은 버그가 쌓일 것이다.
- 실행되는 코드가 많을수록 테스트에서 회귀가 나타날 가능성이 높다.
- 복잡한 비즈니스 로직을 나타내는 코드가 보일러플레이트 코드보다 훨씬 더 중요하다.
- 단순한 코드를 테스트하는 것은 가치가 거의 없다.

### 리팩터링 내성

- 테스트를 `빨간색(실패)`으로 바꾸지 않고 기본 애플리케이션 코드를 리팩터링할 수 있는지에 대한 척도
- 테스트가 타당한 이유 없이 실패하면, 코드 문제에 대응하는 능력과 의지가 희석된다.

#### 거짓 양성

- 기능은 완벽하게 작동하지만 기반 코드를 수정하면 테스트가 빨간색으로 바뀌는 것
- 테스트에서 발생하는 거짓 양성의 수는 테스트 구성 방식과 직접적인 관련이 있다.
- 테스트와 테스트 대상 시스템(SUT)의 구현 세부 사항이 많이 결합할수록 허위 경보가 더 많이 생긴다.
  - 해당 구변 세부 사항에서 테스트를 분리한다.
  - 테스트는 최종 사용자의 관점에서 SUT를 검증해야 하고 최종 사용자에게 의미 있는 결과만 확인해야 한다.
